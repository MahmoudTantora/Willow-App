import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:flutter_screenutil/flutter_screenutil.dart';import 'package:flutter_svg/flutter_svg.dart';import 'package:willow_care_app/controllers/botom_tab/bottom_tab_cubit.dart';import 'package:willow_care_app/screens/more/more_screen.dart';import 'package:willow_care_app/screens/schedule/schedule_screen.dart';import 'package:willow_care_app/theme/app_colors.dart';import '../home/home_screen.dart';import '../message/message_screen.dart';class AppScreen extends StatefulWidget {  static const routeName = "/app";  const AppScreen({Key? key}) : super(key: key);  @override  _AppScreenState createState() => _AppScreenState();}class _AppScreenState extends State<AppScreen> {  int pageIndex = 1;  final pages = [    const HomeScreen(),    const ScheduleScreen(),    const MessageScreen(),    const MoreScreen(),  ];  @override  Widget build(BuildContext context) {    return BlocBuilder<BottomTabCubit, int>(builder: (context, index) {      return Scaffold(          backgroundColor: AppColors.backgroundColor,          bottomNavigationBar: const BottomNavigationBarWidget(),          body: pages[index]);    });  }}class BottomNavigationBarWidget extends StatelessWidget {  const BottomNavigationBarWidget({Key? key}) : super(key: key);  @override  Widget build(BuildContext context) {    return Container(      height: 74.h,      margin: EdgeInsets.only(left: 24.w, right: 24.w, bottom: 24.h),      decoration: BoxDecoration(        color: Colors.white,        boxShadow: <BoxShadow>[          BoxShadow(            color: AppColors.cardShadowColor,            blurRadius: 20,            offset: const Offset(0, 0),          ),        ],        borderRadius: BorderRadius.all(Radius.circular(16.r)),      ),      child: Row(        mainAxisAlignment: MainAxisAlignment.spaceAround,        crossAxisAlignment: CrossAxisAlignment.center,        children: const [          BottomNavigationBarIcon(            title: 'Home',            icon: 'assets/svgs/home.svg',            index: 0,          ),          BottomNavigationBarIcon(            title: 'Schedule',            icon: 'assets/svgs/calendar.svg',            index: 1,          ),          BottomNavigationBarIcon(            title: 'Message',            icon: 'assets/svgs/message.svg',            index: 2,          ),          BottomNavigationBarIcon(            title: 'More',            icon: 'assets/svgs/more.svg',            index: 3,          ),        ],      ),    );  }}class BottomNavigationBarIcon extends StatelessWidget {  final String icon;  final String title;  final int index;  const BottomNavigationBarIcon(      {Key? key, required this.title, required this.icon, required this.index})      : super(key: key);  @override  Widget build(BuildContext context) {    final tabNumberBloc = BlocProvider.of<BottomTabCubit>(context);    return BlocBuilder<BottomTabCubit, int>(      bloc: tabNumberBloc,      builder: (context, tabNum) {        return Padding(          padding: const EdgeInsets.all(8.0),          child: GestureDetector(            onTap: () {              tabNumberBloc.changeBottomTab(index);            },            child: Column(              mainAxisAlignment: MainAxisAlignment.center,              children: [                SvgPicture.asset(                  icon,                  width: 20.w,                  height: 20.h,                  color: tabNum == index                      ? AppColors.primaryColor                      : AppColors.inActiveBottomIconColor,                ),                SizedBox(height: 6.h),                Text(                  title,                  style: TextStyle(                    fontSize: 11.sp,                    fontWeight: FontWeight.w400,                    color: tabNum == index                        ? AppColors.primaryColor                        : AppColors.inActiveBottomIconColor,                  ),                ),              ],            ),          ),        );      },    );  }}